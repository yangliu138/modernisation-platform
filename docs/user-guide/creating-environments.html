<!doctype html>
<html lang="en" class="govuk-template no-js">
  <head>
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

    <title>Creating environments in the Modernisation Platform - Modernisation Platform</title>

    <link href="../stylesheets/manifest.css" rel="stylesheet" />

    <link rel="canonical" href="https://user-guide.modernisation-platform.service.justice.gov.uk/user-guide/creating-environments.html">

      <meta name="twitter:card" content="summary" />
      <meta name="twitter:domain" content="user-guide.modernisation-platform.service.justice.gov.uk" />
      <meta name="twitter:image" content="https://user-guide.modernisation-platform.service.justice.gov.uk/images/govuk-large.png" />
      <meta name="twitter:title" content="Creating environments in the Modernisation Platform - Modernisation Platform" />
      <meta name="twitter:url" content="https://user-guide.modernisation-platform.service.justice.gov.uk/user-guide/creating-environments.html" />

      <meta property="og:image" content="https://user-guide.modernisation-platform.service.justice.gov.uk/images/govuk-large.png" />
      <meta property="og:site_name" content="Modernisation Platform" />
      <meta property="og:title" content="Creating environments in the Modernisation Platform" />
      <meta property="og:type" content="object" />
      <meta property="og:url" content="https://user-guide.modernisation-platform.service.justice.gov.uk/user-guide/creating-environments.html" />

    
  </head>

  <body class="govuk-template__body">
    <script>document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');</script>

    <div class="app-pane">
      <div class="app-pane__header toc-open-disabled">
        <a href="#content" class="govuk-skip-link">Skip to main content</a>

        <header class="govuk-header app-header" role="banner" data-module="govuk-header">
  <div class="govuk-header__container govuk-header__container--full-width">
    <div class="govuk-header__logo">
      <a href="/" class="govuk-header__link govuk-header__link--homepage">
        <span class="govuk-header__logotype">
          <svg
            aria-hidden="true"
            focusable="false"
            class="govuk-header__logotype-crown"
            xmlns="http://www.w3.org/2000/svg"
            viewbox="0 0 132 97"
            height="30"
            width="36"
          >
            <path
              fill="currentColor" fill-rule="evenodd"
              d="M25 30.2c3.5 1.5 7.7-.2 9.1-3.7 1.5-3.6-.2-7.8-3.9-9.2-3.6-1.4-7.6.3-9.1 3.9-1.4 3.5.3 7.5 3.9 9zM9 39.5c3.6 1.5 7.8-.2 9.2-3.7 1.5-3.6-.2-7.8-3.9-9.1-3.6-1.5-7.6.2-9.1 3.8-1.4 3.5.3 7.5 3.8 9zM4.4 57.2c3.5 1.5 7.7-.2 9.1-3.8 1.5-3.6-.2-7.7-3.9-9.1-3.5-1.5-7.6.3-9.1 3.8-1.4 3.5.3 7.6 3.9 9.1zm38.3-21.4c3.5 1.5 7.7-.2 9.1-3.8 1.5-3.6-.2-7.7-3.9-9.1-3.6-1.5-7.6.3-9.1 3.8-1.3 3.6.4 7.7 3.9 9.1zm64.4-5.6c-3.6 1.5-7.8-.2-9.1-3.7-1.5-3.6.2-7.8 3.8-9.2 3.6-1.4 7.7.3 9.2 3.9 1.3 3.5-.4 7.5-3.9 9zm15.9 9.3c-3.6 1.5-7.7-.2-9.1-3.7-1.5-3.6.2-7.8 3.7-9.1 3.6-1.5 7.7.2 9.2 3.8 1.5 3.5-.3 7.5-3.8 9zm4.7 17.7c-3.6 1.5-7.8-.2-9.2-3.8-1.5-3.6.2-7.7 3.9-9.1 3.6-1.5 7.7.3 9.2 3.8 1.3 3.5-.4 7.6-3.9 9.1zM89.3 35.8c-3.6 1.5-7.8-.2-9.2-3.8-1.4-3.6.2-7.7 3.9-9.1 3.6-1.5 7.7.3 9.2 3.8 1.4 3.6-.3 7.7-3.9 9.1zM69.7 17.7l8.9 4.7V9.3l-8.9 2.8c-.2-.3-.5-.6-.9-.9L72.4 0H59.6l3.5 11.2c-.3.3-.6.5-.9.9l-8.8-2.8v13.1l8.8-4.7c.3.3.6.7.9.9l-5 15.4v.1c-.2.8-.4 1.6-.4 2.4 0 4.1 3.1 7.5 7 8.1h.2c.3 0 .7.1 1 .1.4 0 .7 0 1-.1h.2c4-.6 7.1-4.1 7.1-8.1 0-.8-.1-1.7-.4-2.4V34l-5.1-15.4c.4-.2.7-.6 1-.9zM66 92.8c16.9 0 32.8 1.1 47.1 3.2 4-16.9 8.9-26.7 14-33.5l-9.6-3.4c1 4.9 1.1 7.2 0 10.2-1.5-1.4-3-4.3-4.2-8.7L108.6 76c2.8-2 5-3.2 7.5-3.3-4.4 9.4-10 11.9-13.6 11.2-4.3-.8-6.3-4.6-5.6-7.9 1-4.7 5.7-5.9 8-.5 4.3-8.7-3-11.4-7.6-8.8 7.1-7.2 7.9-13.5 2.1-21.1-8 6.1-8.1 12.3-4.5 20.8-4.7-5.4-12.1-2.5-9.5 6.2 3.4-5.2 7.9-2 7.2 3.1-.6 4.3-6.4 7.8-13.5 7.2-10.3-.9-10.9-8-11.2-13.8 2.5-.5 7.1 1.8 11 7.3L80.2 60c-4.1 4.4-8 5.3-12.3 5.4 1.4-4.4 8-11.6 8-11.6H55.5s6.4 7.2 7.9 11.6c-4.2-.1-8-1-12.3-5.4l1.4 16.4c3.9-5.5 8.5-7.7 10.9-7.3-.3 5.8-.9 12.8-11.1 13.8-7.2.6-12.9-2.9-13.5-7.2-.7-5 3.8-8.3 7.1-3.1 2.7-8.7-4.6-11.6-9.4-6.2 3.7-8.5 3.6-14.7-4.6-20.8-5.8 7.6-5 13.9 2.2 21.1-4.7-2.6-11.9.1-7.7 8.8 2.3-5.5 7.1-4.2 8.1.5.7 3.3-1.3 7.1-5.7 7.9-3.5.7-9-1.8-13.5-11.2 2.5.1 4.7 1.3 7.5 3.3l-4.7-15.4c-1.2 4.4-2.7 7.2-4.3 8.7-1.1-3-.9-5.3 0-10.2l-9.5 3.4c5 6.9 9.9 16.7 14 33.5 14.8-2.1 30.8-3.2 47.7-3.2z"
            ></path>
            <image src="/assets/images/govuk-logotype-crown.png" xlink:href="" class="govuk-header__logotype-crown-fallback-image" width="36" height="32"></image>
          </svg>
          <span class="govuk-header__logotype-text">
            GOV.UK
          </span>
        </span>
        <span class="govuk-header__product-name">
          Modernisation Platform
        </span>
      </a>
        <strong class="govuk-tag">Alpha</strong>
    </div>
    <div class="govuk-header__content">
      <button type="button" class="govuk-header__menu-button govuk-js-header-toggle" aria-controls="navigation" aria-label="Show or hide Top Level Navigation">Menu</button>
      <nav>
        <ul id="navigation" class="govuk-header__navigation govuk-header__navigation--end" aria-label="Top Level Navigation">
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/modernisation-platform">Home</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="https://github.com/ministryofjustice/modernisation-platform">GitHub</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="https://mojdt.slack.com/archives/C01A7QK5VM1">Slack</a>
            </li>
        </ul>
      </nav>
    </div>
  </div>
</header>

      </div>

        <div id="toc-heading" class="toc-show fixedsticky">
          <a href="#toc" class="toc-show__label js-toc-show" aria-controls="toc">
            Table of contents <span class="toc-show__icon"></span>
          </a>
        </div>

      <div class="app-pane__body" data-module="in-page-navigation">
          <div class="app-pane__toc">
            <div class="toc" data-module="table-of-contents">
              <div class="search" data-module="search">
  <form action="https://www.google.co.uk/search" method="get" role="search">
    <input type="hidden" name="as_sitesearch" value="https://user-guide.modernisation-platform.service.justice.gov.uk"/>
    <label class="govuk-label search__label" for="search">
      Search (via Google)
    </label>
    <input class="govuk-input govuk-!-margin-bottom-4" id="search" name="q" type="text" aria-controls="search-results" placeholder="Search">
  </form>
  <div id="search-results" class="search-results" aria-hidden="true" role="dialog" aria-labelledby="search-results-title">
    <div class="search-results__inner">
      <button class="search-results__close">Close<span class="search-results__close-label"> search results</span></button>
      <h2 id="search-results-title" class="search-results__title" aria-live="polite">Results</h2>
      <div class="search-results__content"></div>
    </div>
  </div>
</div>

              <a href="#" class="toc__close js-toc-close" aria-controls="toc" aria-label="Hide table of contents"></a>
              <nav id="toc" class="js-toc-list toc__list" aria-labelledby="toc-heading">
                      <ul>
  <li>
    <a href="#creating-environments-in-the-modernisation-platform"><span>Creating environments in the Modernisation Platform</span></a>
    <ul>
      <li>
        <a href="#overview"><span>Overview</span></a>
      </li>
      <li>
        <a href="#requesting-an-environment"><span>Requesting an environment</span></a>
        <ul>
          <li>
            <a href="#application-name"><span>Application name</span></a>
          </li>
          <li>
            <a href="#github-team-slug"><span>GitHub team slug</span></a>
          </li>
          <li>
            <a href="#access"><span>Access</span></a>
          </li>
          <li>
            <a href="#environment-name"><span>Environment name</span></a>
          </li>
          <li>
            <a href="#tags"><span>Tags</span></a>
          </li>
          <li>
            <a href="#additional-features"><span>Additional features</span></a>
          </li>
          <li>
            <a href="#architecture"><span>Architecture</span></a>
          </li>
        </ul>
      </li>
      <li>
        <a href="#example-json-files"><span>Example JSON files</span></a>
        <ul>
          <li>
            <a href="#schema"><span>Schema</span></a>
          </li>
          <li>
            <a href="#blank-example"><span>Blank example</span></a>
          </li>
          <li>
            <a href="#another-example"><span>Another example</span></a>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>


              </nav>
            </div>
          </div>

        <div class="app-pane__content toc-open-disabled">
          <main id="content" class="technical-documentation" data-module="anchored-headings">
            <h1 id="creating-environments-in-the-modernisation-platform">Creating environments in the Modernisation Platform</h1><h2 id="overview">Overview</h2><p>In the Modernisation Platform, we define environments (AWS accounts) via a JSON file in the <a href="https://github.com/ministryofjustice/modernisation-platform/tree/main/environments">environments</a> directory of the <a href="https://github.com/ministryofjustice/modernisation-platform">Modernisation Platform repository</a>.</p>
<p>When we recieve your request we will create a new JSON file and submit a pull request to the Modernisation Platform repository. On merging the Modernisation Platform will automatically provision your environments. Each environment defined represents an AWS account, see the <a href="#blank-example">example</a> below for more information.</p>
<h2 id="requesting-an-environment">Requesting an environment</h2><p>To request a new environment, simply <a href="https://github.com/ministryofjustice/modernisation-platform/issues/new/choose">create an issue</a> using the <code>New Modernisation Platform Environment</code> template.</p>
<p>This will ask you for the following information:</p>
<h3 id="application-name">Application name</h3><p>Please follow MoJ guidance for <a href="https://ministryofjustice.github.io/technical-guidance/documentation/standards/naming-things.html#naming-things">naming things</a>
The name must be in lowercase and a maximum of 30 characters. If you need to use a separater use <code>-</code>.</p>
<h3 id="github-team-slug">GitHub team slug</h3><p>This is the name of your GitHub team that will be accessing the environment. Environments are accessed via single sign on (SSO), so to give people permissions to access your environment you just have to add them to your GitHub team.</p>
<p>Users who are not part of the MoJ GitHub organisation will need to be added as collaborators separately once the account has been created.  Please contact the Modernisation Platform team to do this.</p>
<h3 id="access">Access</h3><p>This is the level of access for the GitHub team to the Modernisation Platform. The options are as follows:</p>
<h4 id="view-only">view-only</h4>
<ul>
<li>Log into the console</li>
<li>See resources and basic metadata. You cannot see the content of resources such as logs or S3 buckets.</li>
</ul>
<h4 id="developer">developer</h4>
<ul>
<li>Log into the console</li>
<li>Read only access to resources including things like logs and S3 buckets.</li>
<li>View and Edit <a href="https://aws.amazon.com/secrets-manager/">Secrets Manager</a> secrets and <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-parameter-store.html">Parameter Store</a> values</li>
<li>Create and rotate access keys for the application deployment CI user</li>
</ul>
<h4 id="administrator">administrator</h4>
<ul>
<li>Full admin access</li>
</ul>
<p>This is a legacy role and will not be generally available</p>
<h3 id="environment-name">Environment name</h3><p>Which environments you wish to use, we provide <a href="creating-networking.html">core networking</a> for up to 4 accounts as standard.
Usually two environments per application will be enough, a production account and a development account.</p>

<ul>
<li>development</li>
<li>test</li>
<li>preproduction</li>
<li>production</li>
</ul>
<p>As these environments are identical, and controlled via code, we would recommend you try to use as few environments as possible. We can provide more environments if there is a genuine need for them.</p>
<h3 id="tags">Tags</h3><p>These will be used to tag your AWS resources, for further guidance on tagging please see <a href="https://ministryofjustice.github.io/technical-guidance/documentation/standards/documenting-infrastructure-owners.html#tags-you-should-use">here</a></p>
<p>The is-production tag will be inferred if the environment is production.</p>
<div class="table-container">
        <table>
          <tr>
<th>tag</th>
<th>value</th>
</tr>
<tr>
<td>application</td>
<td>Find a solicitor</td>
</tr>
<tr>
<td>business-unit</td>
<td>LAA</td>
</tr>
<tr>
<td>owner</td>
<td>find-a-solicitor@ministryofjustice.gov.uk</td>
</tr>

        </table>
      </div><p>Valid business-unit values
HQ,HMPPS,OPG,LAA,HMCTS,CICA,Platforms,CJSE</p>
<h3 id="additional-features">Additional features</h3><p>In addition to the core networking provided, you can request bastion access, additional VPC endpoints and extended DNS zones.</p>
<p>See <a href="creating-networking.html">creating networking</a> for more information on additional features.</p>
<h3 id="architecture">Architecture</h3><p>You can view our architecture for Environments (AWS accounts) on the <a href="../concepts/environments/architecture.html">dedicated Environments (AWS accounts) architecture page</a>, which also explains what you get by doing this.</p>
<h2 id="example-json-files">Example JSON files</h2><p>Here are some examples of the environments JSON file that the Modernisation Platform team will create.</p>
<h3 id="schema">Schema</h3>
<ul>
<li><code>account-type</code> determines if this is a core modernisation platform account or a user member account</li>
<li><code>environments</code> should be an array of objects for environments required. If the environment is <code>production</code>, retention periods, backup frequency, and similar will be different compared to non-production environments</li>
<li>the <code>name</code> key and <code>access</code> object are required, see: <a href="#another-example">Another example</a></li>
<li><code>tags</code> should be an object of the mandatory tags defined in the MoJ <a href="https://ministryofjustice.github.io/technical-guidance/documentation/standards/documenting-infrastructure-owners.html#tagging-your-infrastructure">Tagging Guidance</a>. You can omit <code>is-production</code> as we infer this from the environment name</li>
</ul>
<h3 id="blank-example">Blank example</h3><p><code>filename</code>: <code>application-name.json</code></p>
<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"account-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"environments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
      </span><span class="nl">"access"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"github_slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"access"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"application"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"business-unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"owner"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id="another-example">Another example</h3><p>An JSON definition for an nonsensical application called <a href="https://en.wikipedia.org/wiki/GLaDOS"><code>glados</code></a>, that needs two environments: <code>development</code> and <code>production</code>, and want to give the GitHub team <code>glados-team</code> access to each environment.</p>
<p><code>filename</code>: <code>glados.json</code></p>
<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"account-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"member"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"environments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"development"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"access"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"github_slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"glados-team"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"access"</span><span class="p">:</span><span class="w"> </span><span class="s2">"developer"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"production"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"access"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"github_slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"glados-team"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"access"</span><span class="p">:</span><span class="w"> </span><span class="s2">"view-only"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"application"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GLaDOS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"business-unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Platforms"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"owner"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GLaDOS (Genetic Lifeform and Disk Operating System): aperture-science@digital.justice.gov.uk"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><p>This will provision two AWS accounts, which will be called: <code>glados-development</code>, and <code>glados-production</code>.</p>

              <div data-module='page-expiry' data-last-reviewed-on="2022-08-16">
    <div class='page-expiry--not-expired'>
      This page was last reviewed on 16 February 2022.

        It needs to be reviewed again on 16 August 2022
        by the page owner <a href="https://mojdt.slack.com/messages/modernisation-platform">#modernisation-platform</a>
        .
    </div>

    <div class='page-expiry--expired'>
      This page was set to be reviewed before 16 August 2022
       by the page owner <a href="https://mojdt.slack.com/messages/modernisation-platform">#modernisation-platform</a>.
      This might mean the content is out of date.
    </div>
  </div>

          </main>

          <aside>
              <ul class="contribution-banner">
                <li><a href="https://github.com/ministryofjustice/modernisation-platform/blob/main/source/user-guide/creating-environments.html.md.erb">View source</a></li>
                <li><a href="https://github.com/ministryofjustice/modernisation-platform/issues/new?labels=bug&amp;title=Re:%20'Creating%20environments%20in%20the%20Modernisation%20Platform'&amp;body=Problem%20with%20'Creating%20environments%20in%20the%20Modernisation%20Platform'%20(https://user-guide.modernisation-platform.service.justice.gov.uk/user-guide/creating-environments.html)">Report problem</a></li>
                <li><a href="https://github.com/ministryofjustice/modernisation-platform">GitHub Repo</a></li>
              </ul>
          </aside>

          <footer class="govuk-footer app-footer" role="contentinfo">
  <div class="govuk-footer__meta">
    <div class="govuk-footer__meta-item govuk-footer__meta-item--grow">


      <svg
        aria-hidden="true"
        focusable="false"
        class="govuk-footer__licence-logo"
        xmlns="http://www.w3.org/2000/svg"
        viewbox="0 0 483.2 195.7"
        height="17"
        width="41"
      >
        <path
          fill="currentColor"
          d="M421.5 142.8V.1l-50.7 32.3v161.1h112.4v-50.7zm-122.3-9.6A47.12 47.12 0 0 1 221 97.8c0-26 21.1-47.1 47.1-47.1 16.7 0 31.4 8.7 39.7 21.8l42.7-27.2A97.63 97.63 0 0 0 268.1 0c-36.5 0-68.3 20.1-85.1 49.7A98 98 0 0 0 97.8 0C43.9 0 0 43.9 0 97.8s43.9 97.8 97.8 97.8c36.5 0 68.3-20.1 85.1-49.7a97.76 97.76 0 0 0 149.6 25.4l19.4 22.2h3v-87.8h-80l24.3 27.5zM97.8 145c-26 0-47.1-21.1-47.1-47.1s21.1-47.1 47.1-47.1 47.2 21 47.2 47S123.8 145 97.8 145"
        />
      </svg>
      <span class="govuk-footer__licence-description">
        All content is available under the
        <a
          class="govuk-footer__link"
          href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/"
          rel="license"
        >Open Government Licence v3.0</a>, except where otherwise stated
      </span>
    </div>
    <div class="govuk-footer__meta-item">
      <a
        class="govuk-footer__link govuk-footer__copyright-logo"
        href="https://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/uk-government-licensing-framework/crown-copyright/"
      >Â© Crown copyright</a>
    </div>
  </div>
</footer>

        </div>
      </div>
    </div>

    
    <script src="../javascripts/application.js"></script>
  </body>
</html>
